{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport HeadTitle from \"@/components/MainBody/HeadTitle\";\nexport default {\n  name: \"ExaminationText\",\n  components: {\n    HeadTitle\n  },\n  data() {\n    return {\n      Title: [],\n      num: [],\n      Option: [],\n      Option1: [],\n      radio: ['A', 'B', 'C', 'D'],\n      All: [],\n      Option5: [],\n      Option2: [],\n      Option3: [],\n      Option4: [],\n      index: 0,\n      answers: 0,\n      NewAnswer: []\n    };\n  },\n  created() {\n    this.Options();\n  },\n  methods: {\n    checks() {\n      if (this.index === 0) {\n        for (let b = 0; b < this.num.length; b++) {\n          if (this.Title[b].rightKey === this.num[b]) {\n            this.answers++;\n          }\n        }\n        this.$message({\n          message: '答对' + this.answers + '成功，获得' + this.answers + '积分',\n          type: 'success'\n        });\n        for (let y = 0; y < this.num.length; y++) {\n          if (this.num[y] !== null || this.num[y] !== '') {\n            this.$axios.post('public/InsertAnswer', {\n              paperId: this.$route.query.id,\n              titleId: this.Title[y].id,\n              answers: this.num[y],\n              token: this.$store.state.Authorization\n            }, {\n              headers: {\n                'Authorization': this.$store.state.Authorization\n              }\n            }).then(resp => {\n              if (resp.status === 200) {}\n            }).catch(resp => {});\n          }\n        }\n        this.$axios.post('public/AddAnswer', {\n          sorce: this.answers,\n          token: this.$store.state.Authorization\n        }, {\n          headers: {\n            'Authorization': this.$store.state.Authorization\n          }\n        }).then(resp => {\n          if (resp.status === 200) {}\n        }).catch(resp => {});\n        this.$router.go(0);\n      }\n    },\n    Options() {\n      this.$axios.post('public/PaperTitle', {\n        id_paper: this.$route.query.id\n      }, {\n        headers: {\n          'Authorization': this.$store.state.Authorization\n        }\n      }).then(resp => {\n        if (resp.status === 200) {\n          this.Title = resp.data.data;\n          this.OptionPlus();\n        }\n      }).catch(resp => {});\n      this.$axios.post('public/PaperOptions', {\n        paper_id: this.$route.query.id\n      }, {\n        headers: {\n          'Authorization': this.$store.state.Authorization\n        }\n      }).then(resp => {\n        if (resp.status === 200) {\n          this.Option = resp.data.data;\n          let j = 0,\n            h = 0,\n            c = 0,\n            m = 0,\n            k = 0;\n          for (let i = 0; i < resp.data.data.length; i++) {\n            if (this.Option[i].titleId === this.Title[0].id) {\n              this.Option1[j++] = this.Option[i];\n            } else if (this.Option[i].titleId === this.Title[1].id) {\n              this.Option2[h++] = this.Option[i];\n            } else if (this.Option[i].titleId === this.Title[2].id) {\n              this.Option3[c++] = this.Option[i];\n            } else if (this.Option[i].titleId === this.Title[3].id) {\n              this.Option4[m++] = this.Option[i];\n            } else if (this.Option[i].titleId === this.Title[4].id) {\n              this.Option5[k++] = this.Option[i];\n            }\n          }\n          this.All.push(this.Option1);\n          this.All.push(this.Option2);\n          this.All.push(this.Option3);\n          this.All.push(this.Option4);\n          this.All.push(this.Option5);\n        }\n      }).catch(resp => {});\n    },\n    OptionPlus() {\n      this.$axios.post('public/PaperAnswer', {\n        paperId: this.$route.query.id,\n        token: this.$store.state.Authorization\n      }, {\n        headers: {\n          'Authorization': this.$store.state.Authorization\n        }\n      }).then(resp => {\n        if (resp.status === 200) {\n          this.NewAnswer = resp.data.data;\n          if (this.NewAnswer.length !== 0) {\n            this.index = 1;\n            let q = 0;\n            for (let l = 0; l < this.Title.length; l++) {\n              for (let r = 0; r < this.NewAnswer.length; r++) {\n                if (this.Title[l].id === this.NewAnswer[r].titleId) if (this.NewAnswer[r].answers !== null || this.NewAnswer[r].answers !== '') {\n                  this.num[q++] = this.NewAnswer[r].answers;\n                }\n              }\n            }\n          }\n        }\n      }).catch(resp => {});\n    }\n  }\n};","map":{"version":3,"names":["HeadTitle","name","components","data","Title","num","Option","Option1","radio","All","Option5","Option2","Option3","Option4","index","answers","NewAnswer","created","Options","methods","checks","b","length","rightKey","$message","message","type","y","$axios","post","paperId","$route","query","id","titleId","token","$store","state","Authorization","headers","then","resp","status","catch","sorce","$router","go","id_paper","OptionPlus","paper_id","j","h","c","m","k","i","push","q","l","r"],"sources":["src/components/MainBody/Examination/ExaminationText.vue"],"sourcesContent":["<template>\n    <div class=\"main_body\">\n        <HeadTitle></HeadTitle>\n        <div class=\"head_picture\"></div>\n    \n        <div class=\"content row\">\n            <div class=\"sub_left\">\n                <h2 class=\"title_left flag1\">有奖竞答</h2>\n                <ul class=\"flag2 sub_menu\">\n                    <li>\n                        <a  title=\"新闻列表\" href=\"/ExaminationPage\" class=\"chs\">知识竞答</a>\n                    </li>\n                \n                    <li>\n                        <a  title=\"公告列表\" href=\"/PrizePage\">奖品兑换</a>\n                    </li>\n            \n                </ul>\n            </div>\n            <div class=\"sub_right\">\n                <div class=\"bread fs11\">\n                    <a href=\"/FirstPage\">首页</a>\n                    &nbsp;-&nbsp;\n                    <a href=\"/ExaminationPage\" >有奖竞答</a>\n                    &nbsp;-&nbsp;\n                    <span >知识竞答</span>\n                </div>\n                <div class=\"page_content\">\n                    <div class=\"page_title\">\n                        <h3 class=\"fs24\">试题列表</h3>\n                    </div>\n                </div>\n            \n                <div>\n                        <div class=\"lists\">\n                            <ul class=\"ul_list\" v-for=\"(titles,i) in Title\">\n                                <div class=\"title1 fs14\">{{titles.title}}</div>\n\n                                <li v-for=\"(Options,h) in Option\" v-if=\"Options.titleId === titles.id\">\n                                    <el-radio-group  v-model=\"num[i]\">\n                                        <el-radio v-if=\"index === 0 && Options.titleId === titles.id\" :label=\"Options.optionValue\" class=\"blocks\">{{Options.optionValue}}.{{Options.optionS}}</el-radio>\n                                        <el-radio v-if=\"index === 1  && Options.titleId === titles.id\" disabled :label=\"Options.optionValue\" class=\"blocks\">{{Options.optionValue}}.{{Options.optionS}}</el-radio>\n                                    </el-radio-group>\n                                </li>\n                                <div class=\"rightKey\" v-if=\"index === 1 && num[i]!== titles.rightKey\">\n                                    正确答案： {{titles.rightKey}}\n                                </div>\n                            </ul>\n                            <div style=\"height: 100px\">\n                                <el-button v-if=\"index===0\" style=\"margin-top: 30px;float: right\" @click=\"checks()\" type=\"primary\">提交</el-button>\n                                <el-button disabled v-if=\"index===1\" style=\"margin-top: 30px;float: right\"  type=\"primary\">已提交</el-button>\n                            </div>\n                            \n                        </div>\n                </div>\n        \n        \n            </div>\n        </div>\n    \n        \n    </div>\n</template>\n\n<script>\n    import HeadTitle from \"@/components/MainBody/HeadTitle\";\n    export default {\n        name: \"ExaminationText\",\n        components: {HeadTitle},\n        data(){\n          return{\n              Title:[],\n              num:[],\n              Option:[],\n              Option1:[],\n              radio:['A','B','C','D'],\n              All:[],\n              Option5:[],\n              Option2:[],\n              Option3:[],\n              Option4:[],\n              index: 0,\n              answers: 0,\n              NewAnswer:[]\n          }\n        },\n        created(){\n            this.Options()\n        },\n        methods:{\n            checks(){\n                if(this.index === 0){\n                    for(let b=0;b<this.num.length;b++){\n                        if(this.Title[b].rightKey === this.num[b]){\n                            this.answers++\n                        }\n                    }\n                    this.$message({\n                        message: '答对'+this.answers+'成功，获得'+this.answers+'积分',\n                        type: 'success'\n                    });\n                   \n\n                    for(let y=0;y<this.num.length;y++){\n                        if(this.num[y] !== null || this.num[y] !== '') {\n                            this.$axios.post('public/InsertAnswer', {\n                                paperId: this.$route.query.id,\n                                titleId: this.Title[y].id,\n                                answers: this.num[y],\n                                token: this.$store.state.Authorization\n                            }, {\n                                headers: {'Authorization': this.$store.state.Authorization}\n                            }).then(resp => {\n                                if (resp.status === 200) {\n                                }\n                            }).catch(resp => {\n                            })\n                        }\n                    }\n                    this.$axios.post('public/AddAnswer', {\n                        sorce: this.answers,\n                        token: this.$store.state.Authorization\n                    }, {\n                        headers: {'Authorization': this.$store.state.Authorization}\n                    }).then(resp => {\n                        if (resp.status === 200) {\n                        }\n                    }).catch(resp => {\n                    })\n                    this.$router.go(0);\n                }\n            },\n            \n            Options(){\n                \n                this.$axios.post('public/PaperTitle', {\n                    id_paper: this.$route.query.id\n                }, {\n                    headers: {'Authorization': this.$store.state.Authorization}\n                }).then(resp => {\n                    if (resp.status === 200) {\n                        this.Title = resp.data.data\n                        this.OptionPlus()\n\n                    }\n                }).catch(resp => {\n                })\n\n                this.$axios.post('public/PaperOptions', {\n                    paper_id: this.$route.query.id\n                }, {\n                    headers: {'Authorization': this.$store.state.Authorization}\n                }).then(resp => {\n                    if (resp.status === 200) {\n                        this.Option = resp.data.data\n                        let j=0,h=0,c=0,m=0,k=0\n                        \n                        for(let i=0;i<resp.data.data.length;i++){\n                            if(this.Option[i].titleId === this.Title[0].id){\n                                this.Option1[j++] = (this.Option[i])\n                            }\n                            else if(this.Option[i].titleId === this.Title[1].id){\n                                this.Option2[h++] = this.Option[i]\n                            }\n                            else if(this.Option[i].titleId === this.Title[2].id){\n                                this.Option3[c++] = this.Option[i]\n                            }\n                            else if(this.Option[i].titleId === this.Title[3].id){\n                                this.Option4[m++] = this.Option[i]\n                            } else if(this.Option[i].titleId === this.Title[4].id) {\n                                this.Option5[k++] = this.Option[i]\n                            }\n                            \n                        }\n                        this.All.push(this.Option1)\n                        this.All.push(this.Option2)\n                        this.All.push(this.Option3)\n                        this.All.push(this.Option4)\n                        this.All.push(this.Option5)\n                 \n                    }\n                }).catch(resp => {\n                \n                })\n            },\n\n            OptionPlus(){\n                this.$axios.post('public/PaperAnswer', {\n                    paperId: this.$route.query.id,\n                    token: this.$store.state.Authorization\n                }, {\n                    headers: {'Authorization': this.$store.state.Authorization}\n                }).then(resp => {\n                    if (resp.status === 200) {\n                        this.NewAnswer = resp.data.data\n\n                        if(this.NewAnswer.length !== 0){\n                            this.index = 1\n                            let q = 0\n                            for(let l = 0;l<this.Title.length;l++){\n                                for(let r = 0 ;r<this.NewAnswer.length;r++){\n                                    if(this.Title[l].id === this.NewAnswer[r].titleId)\n                                        if(this.NewAnswer[r].answers !== null || this.NewAnswer[r].answers !== ''){\n                                            this.num[q++] = this.NewAnswer[r].answers\n                                        }\n\n                                }\n                            }\n\n                        }\n\n                    }\n                }).catch(resp => {\n                })\n            }\n          \n        }\n    }\n</script>\n\n<style scoped>\n    .main_body{\n        margin: 0;\n        padding: 0;\n        height: 100%;\n        width: 100%;\n    }\n    .head_picture{\n        height: 250px;\n        width: 100%;\n        background: url(\"http://rcqmzsxxw.com/rchema/xuexiwang/img/public/head_bg.png\");\n        /*background: url(\"https://api.ixiaowai.cn/gqapi/gqapi.php\");*/\n        background-size: cover;\n    }\n    .sub_left {\n        width: 230px;\n        float: left;\n        position: relative;\n        z-index: 3;\n        margin-top: -80px;\n        background: url(\"https://www.cqut.edu.cn/images/sub_left_bg.png\") top center no-repeat;\n        padding: 0 0 65px;\n        background-size: 100% auto;\n    }\n    .title_left {\n        line-height: 50px;\n        padding: 15px 10px 15px 40px;\n        color: #fff;\n        position: relative;\n        font-weight: normal;\n    }\n    .flag1 {\n        font-size: 30px;\n    }\n    .sub_menu {\n        margin: 0 0 0 20px;\n        background: #fdf4e1;\n        height: 199px;\n    }\n    .content {\n        position: relative;\n        z-index: 2;\n    }\n    \n    .row {\n        width: 1500px;\n        margin: 0 auto;\n    }\n    .flag2 {\n        font-size: 18px;\n    }\n    .sub_menu > li > a {\n        display: block;\n        line-height: 36px;\n        color: #333;\n        padding: 17px 0 16px 30px;\n        position: relative;\n        border: 1px solid #ededed;\n        border-top: 0;\n    }\n    .sub_right {\n        margin: 0 0 0 230px;\n        background: #FFFFFF;\n    }\n    .page_content {\n        padding: 0 0 0 40px;\n        clear: right;\n        background: #fff;\n    }\n    .page_title {\n        padding: 0 0 0;\n        overflow: hidden;\n    }\n    .page_title h3 {\n        padding: 25px 0;\n        color: #333;\n    }\n    .fs24 {\n        font-size: 24px;\n    }\n    \n    .lists{\n        margin-left: 20px;\n    }\n    .lists li {\n        width: 100%;\n    }\n    .time {\n        color: #999;\n        padding: 0 0 0 27px;\n        background: url(\"https://www.cqut.edu.cn/images/sub07_1_time2.png\") left center no-repeat;\n        line-height: 20px;\n        font-family: arial;\n    }\n    .title {\n        display: block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin: 6px 0 0;\n        height: 26px;\n        line-height: 26px;\n        white-space: nowrap;\n        color: #333;\n    }\n    .title1 {\n        margin: 6px 0 0;\n        line-height: 46px;\n        color: #333;\n    }\n    \n    .sub_list073 ul {\n        padding: 12px 0 21px;\n    }\n    .fs16 {\n        font-size: 16px;\n    }\n    \n    .info{\n        display: block;\n        margin: 0 0 30px;\n        padding: 13px 15px;\n        border: 1px solid #f2f2f2;\n        border-left: 5px solid #e2e2e2;\n        cursor:pointer;\n    }\n    .bread {\n        color: #a6a6a6;\n        line-height: 40px;\n        text-align: right;\n        padding: 0 20px;\n        background: #f7f7f7;\n        margin-left: 20px;\n    }\n    .fs14 {\n        font-size: 28px;\n        color: black;\n    }\n    .chs{\n        background: #f0ad4e;\n        color: #fff;\n        border-color: #F0AD4E;\n    }\n    .ul_list{\n        width: 100%;\n        margin-top: 30px;\n    }\n    .blocks{\n        display:block;\n        font-size: 34px;\n    }\n    .rightKey{\n        float: right;\n        color: red;\n    }\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}