{"ast":null,"code":"import axios from 'axios';\nimport { Message } from \"element-ui\";\nimport router from '../router';\n\n//定义拦截器\naxios.interceptors.response.use(response => {\n  if (response.status && response.status === 200 && response.data.status === 500) {\n    Message.error({\n      message: response.data.msg\n    });\n    return;\n  }\n  if (response.data.msg) {\n    Message.success({\n      message: response.data.msg,\n      center: true\n    });\n  }\n  return response;\n}, error => {\n  if (error.response.status === 504 || error.response.status === 404) {\n    Message.error({\n      message: \"没有找到服务，请确认请求地址是否正确\"\n    });\n  } else if (error.response.status === 403) {\n    Message.error({\n      message: \"权限不足\"\n    });\n    router.replace(\"/\");\n  } else if (error.response.status === 401) {\n    Message.error({\n      message: \"尚未登录，请登录\"\n    });\n    router.replace(\"/\");\n  } else {\n    Message.error({\n      message: \"未知错误\"\n    });\n  }\n});\nlet base = \"\";\n//SpringSecurity默认不支持json登录,key,value登录\nexport const postKeyValueRequest = (url, params) => {\n  return axios({\n    method: 'post',\n    url: `${base}${url}`,\n    data: params,\n    transformRequest: [function (data) {\n      let ret = '';\n      for (let i in data) {\n        ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&';\n      }\n      return ret;\n    }],\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n};","map":{"version":3,"names":["axios","Message","router","interceptors","response","use","status","data","error","message","msg","success","center","replace","base","postKeyValueRequest","url","params","method","transformRequest","ret","i","encodeURIComponent","headers"],"sources":["/Users/xuxue/Documents/11823020317_徐学的副本/Online_education/face_education/src/store/interceptor.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Message} from \"element-ui\";\r\nimport router from '../router'\r\n\r\n//定义拦截器\r\naxios.interceptors.response.use((response)=>{\r\n    if(response.status && response.status === 200 && response.data.status === 500) {\r\n        Message.error({message: response.data.msg})\r\n        return\r\n    }\r\n    if (response.data.msg) {\r\n        Message.success({ message: response.data.msg, center: true })\r\n    }\r\n    return response;\r\n},error => {\r\n    if (error.response.status === 504 || error.response.status === 404) {\r\n        Message.error({message: \"没有找到服务，请确认请求地址是否正确\"})\r\n    } else if( error.response.status === 403) {\r\n        Message.error({message: \"权限不足\"})\r\n        router.replace(\"/\")\r\n    } else if(error.response.status === 401){\r\n        Message.error({message: \"尚未登录，请登录\"})\r\n        router.replace(\"/\")\r\n    } else {\r\n        Message.error({message: \"未知错误\"})\r\n    }\r\n})\r\n\r\n\r\nlet base = \"\";\r\n//SpringSecurity默认不支持json登录,key,value登录\r\nexport const postKeyValueRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params,\r\n        transformRequest: [function (data) {\r\n            let ret = ''\r\n            for (let i in data) {\r\n                ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&'\r\n            }\r\n            return ret\r\n        }],\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    })\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAO,YAAY;AACnC,OAAOC,MAAM,MAAM,WAAW;;AAE9B;AACAF,KAAK,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG,CAAED,QAAQ,IAAG;EACxC,IAAGA,QAAQ,CAACE,MAAM,IAAIF,QAAQ,CAACE,MAAM,KAAK,GAAG,IAAIF,QAAQ,CAACG,IAAI,CAACD,MAAM,KAAK,GAAG,EAAE;IAC3EL,OAAO,CAACO,KAAK,CAAC;MAACC,OAAO,EAAEL,QAAQ,CAACG,IAAI,CAACG;IAAG,CAAC,CAAC;IAC3C;EACJ;EACA,IAAIN,QAAQ,CAACG,IAAI,CAACG,GAAG,EAAE;IACnBT,OAAO,CAACU,OAAO,CAAC;MAAEF,OAAO,EAAEL,QAAQ,CAACG,IAAI,CAACG,GAAG;MAAEE,MAAM,EAAE;IAAK,CAAC,CAAC;EACjE;EACA,OAAOR,QAAQ;AACnB,CAAC,EAACI,KAAK,IAAI;EACP,IAAIA,KAAK,CAACJ,QAAQ,CAACE,MAAM,KAAK,GAAG,IAAIE,KAAK,CAACJ,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IAChEL,OAAO,CAACO,KAAK,CAAC;MAACC,OAAO,EAAE;IAAoB,CAAC,CAAC;EAClD,CAAC,MAAM,IAAID,KAAK,CAACJ,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IACtCL,OAAO,CAACO,KAAK,CAAC;MAACC,OAAO,EAAE;IAAM,CAAC,CAAC;IAChCP,MAAM,CAACW,OAAO,CAAC,GAAG,CAAC;EACvB,CAAC,MAAM,IAAGL,KAAK,CAACJ,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAC;IACpCL,OAAO,CAACO,KAAK,CAAC;MAACC,OAAO,EAAE;IAAU,CAAC,CAAC;IACpCP,MAAM,CAACW,OAAO,CAAC,GAAG,CAAC;EACvB,CAAC,MAAM;IACHZ,OAAO,CAACO,KAAK,CAAC;MAACC,OAAO,EAAE;IAAM,CAAC,CAAC;EACpC;AACJ,CAAC,CAAC;AAGF,IAAIK,IAAI,GAAG,EAAE;AACb;AACA,OAAO,MAAMC,mBAAmB,GAAGA,CAACC,GAAG,EAAEC,MAAM,KAAK;EAChD,OAAOjB,KAAK,CAAC;IACTkB,MAAM,EAAE,MAAM;IACdF,GAAG,EAAE,GAAGF,IAAI,GAAGE,GAAG,EAAE;IACpBT,IAAI,EAAEU,MAAM;IACZE,gBAAgB,EAAE,CAAC,UAAUZ,IAAI,EAAE;MAC/B,IAAIa,GAAG,GAAG,EAAE;MACZ,KAAK,IAAIC,CAAC,IAAId,IAAI,EAAE;QAChBa,GAAG,IAAIE,kBAAkB,CAACD,CAAC,CAAC,GAAG,GAAG,GAAGC,kBAAkB,CAACf,IAAI,CAACc,CAAC,CAAC,CAAC,GAAG,GAAG;MAC1E;MACA,OAAOD,GAAG;IACd,CAAC,CAAC;IACFG,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}