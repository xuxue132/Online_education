{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport MyInf from \"@/components/MainBody/MyInf\";\nimport MyPrize from \"@/components/MainBody/MyPrize\";\nexport default {\n  name: \"MyInformation\",\n  components: {\n    MyPrize,\n    MyInf\n  },\n  data() {\n    return {\n      dialogFormVisible: false,\n      dialogImageUrl: '',\n      dialogVisible: false,\n      disabled: false,\n      imageUrl: '',\n      activeName: 'first',\n      user: {\n        username: \"\",\n        telephone: \"\",\n        sex: \"\",\n        birthday: \"\",\n        email: \"\",\n        area: \"\",\n        background: \"\",\n        job: \"\",\n        hobby: \"\",\n        integral: \"\",\n        picture: \"\"\n      }\n    };\n  },\n  created() {\n    this.getUser();\n  },\n  methods: {\n    handleRemove(file) {\n      this.$refs.upload.clearFiles(); //清空上传列表\n    },\n    submitUpload() {\n      this.$refs.upload.submit();\n      this.$refs.upload.clearFiles(); //清空上传列表\n      this.dialogFormVisible = false;\n      this.$router.go(0);\n    },\n    LoginOut() {\n      this.$router.push(\"/login\");\n    },\n    HomePage() {\n      this.$router.push(\"/FirstPage\");\n    },\n    getUser() {\n      this.$axios.post('public/MyInformation', {\n        token: this.$store.state.Authorization\n      }, {\n        headers: {\n          'Authorization': this.$store.state.Authorization\n        }\n      }).then(resp => {\n        if (resp.status === 200) {\n          this.user = resp.data.data;\n        }\n      }).catch(resp => {});\n    }\n  }\n};","map":{"version":3,"names":["MyInf","MyPrize","name","components","data","dialogFormVisible","dialogImageUrl","dialogVisible","disabled","imageUrl","activeName","user","username","telephone","sex","birthday","email","area","background","job","hobby","integral","picture","created","getUser","methods","handleRemove","file","$refs","upload","clearFiles","submitUpload","submit","$router","go","LoginOut","push","HomePage","$axios","post","token","$store","state","Authorization","headers","then","resp","status","catch"],"sources":["src/components/MainBody/MyInformation.vue"],"sourcesContent":["<template>\n    <div class=\"main_body\">\n        <div class=\"head_top\">\n                <div class=\"head_top_next\">\n                    <img src=\"http://eucation.i8329.cn/learning.jpg\">\n                    <div class=\"top_right\">\n                        <div class=\"right_one\" style=\"align-items: center;\">\n                            <a href=\"/MyInformation\" class=\"userMobileName\">{{this.user.username}}</a>\n                            <a  style=\"float: left;font-size: 20px;color: #868686;margin-top: 1px\">你好  |</a>\n                        </div>\n                        <div class=\"right_one\">\n                            <el-link :underline=\"false\" class=\"outThisUser\" @click=\"LoginOut()\">退出</el-link>\n                        </div>\n                        \n                        <div class=\"right_three\">\n                            <el-link :underline=\"false\" class=\"outThisUser\" @click=\"HomePage()\">首页</el-link>\n                        </div>\n                    </div>\n                </div>\n        </div>\n        \n        <div class=\"head_min\">\n            <div class=\"head_min_left\">\n                <img  @click=\"dialogFormVisible = true\" :src=\"this.user.picture\" alt=\"\">\n            </div>\n            <div class=\"head_min_right\">\n                    <div>{{this.user.username}}  的个人中心</div>\n                    <a>当前积分 {{this.user.integral}}</a>\n            </div>\n        </div>\n        <div class=\"tab_text deleteBorder\" >\n                <el-tabs  class=\"deleteBorder\" v-model=\"activeName\" >\n                    <el-tab-pane label=\"个人信息\" name=\"first\" >\n                    <MyInf></MyInf>\n                    \n                    </el-tab-pane>\n                    <el-tab-pane label=\"兑换记录\" name=\"second\">\n                    <MyPrize></MyPrize>\n                    </el-tab-pane>\n    \n                </el-tabs>\n        </div>\n        <el-dialog width=\"700px\"  title=\":设置头像\" :visible.sync=\"dialogFormVisible\" center>\n            <el-upload\n                    width=\"200px\"\n                    style=\"margin-left: 130px;height: 200px;\"\n                    action=\"http://localhost:8700/public/upload\"\n                    :headers=\"{'Authorization': this.$store.state.Authorization}\"\n                    list-type=\"picture-card\"\n                    :auto-upload=\"false\"\n                    :limit=\"1\"\n                    :data = \"{telephone:this.user.telephone}\"\n                    ref=\"upload\"\n                    drag\n            >\n                <i slot=\"default\" class=\"el-icon-plus\" ></i>\n                <div slot=\"file\" slot-scope=\"{file}\">\n                        <img\n                                \n                                class=\"el-upload-list__item-thumbnail\"\n                                :src=\"file.url\" alt=\"\"\n                        >\n                        <span class=\"el-upload-list__item-actions\">\n\n                            <span\n                                    v-if=\"!disabled\"\n                                    class=\"el-upload-list__item-delete\"\n                                    @click=\"handleRemove(file)\"\n                            >\n                              <i class=\"el-icon-delete\"></i>\n                            </span>\n                     </span>\n                </div>\n                \n            </el-upload>\n            <el-dialog :visible.sync=\"dialogVisible\">\n                <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n            </el-dialog>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false;this.$refs.upload.clearFiles()\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitUpload()\">确 定</el-button>\n            </div>\n           \n        </el-dialog>\n    \n    </div>\n</template>\n\n<script>\n    import MyInf from \"@/components/MainBody/MyInf\";\n    import MyPrize from \"@/components/MainBody/MyPrize\";\n    export default {\n        name: \"MyInformation\",\n        components: {MyPrize, MyInf},\n        data() {\n            return {\n                dialogFormVisible: false,\n                dialogImageUrl: '',\n                dialogVisible: false,\n                disabled: false,\n                imageUrl: '',\n                activeName: 'first',\n                user: {\n                    username: \"\",\n                    telephone: \"\",\n                    sex: \"\",\n                    birthday: \"\",\n                    email: \"\",\n                    area: \"\",\n                    background: \"\",\n                    job: \"\",\n                    hobby: \"\",\n                    integral: \"\",\n                    picture:\"\",\n                },\n            };\n        },\n        created(){\n          this.getUser()\n        },\n        methods: {\n            handleRemove(file) {\n                this.$refs.upload.clearFiles()//清空上传列表\n            },\n            submitUpload() {\n                this.$refs.upload.submit();\n                this.$refs.upload.clearFiles()//清空上传列表\n                this.dialogFormVisible = false\n                this.$router.go(0);\n            },\n    \n            LoginOut() {\n                this.$router.push(\"/login\");\n            },\n            HomePage(){\n                this.$router.push(\"/FirstPage\")\n            },\n            getUser() {\n                this.$axios.post('public/MyInformation', {\n                    token: this.$store.state.Authorization\n                }, {\n                    headers: {'Authorization': this.$store.state.Authorization}\n                }).then(resp => {\n                    if (resp.status === 200) {\n                        this.user = resp.data.data\n                    }\n                }).catch(resp => {\n                })\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    .main_body{\n        margin: 0;\n        padding: 0;\n        height: 100%;\n        width: 100%;\n    }\n    .head_top{\n        background: #fff;\n        box-shadow: 0 3px 0 0 #dfdfdf;\n        margin: 10px 0;\n        padding: 0;\n        width: 100%;\n        height: 105px;\n    }\n    .head_top_next{\n        width: 80%;\n        margin: 0 auto;\n        height: 95px;\n        justify-content: space-between;\n        align-items: center;\n        \n    }\n    .head_top_next img{\n        float: left;\n        max-height: 100%;\n        max-width: 100%;\n        display: block;\n        margin: auto;\n    }\n    \n    .top_right{\n        align-items: center;\n        height: 75px;\n        line-height: 95px;\n        color: #868686;\n        font-size: 22px;\n        float: right;\n        margin-right: 78px;\n    }\n    .right_one{\n        margin-right: 11px;\n        font-size: 22px;\n        float: left;\n        color: #666666;\n    }\n    .right_one a{\n        margin-left: 11px;\n        color: #666666;\n    }\n    .userMobileName{\n        font-size: 22px;\n        float: left;\n        color: #666666;\n        \n        \n    }\n    .outThisUser{\n        font-size: 22px;\n        color: #666666;\n    }\n    .right_three{\n        height: 75px;\n        font-size: 22px;\n        line-height: 95px;\n        float: left;\n        color: #666666;\n    }\n    .right_three a{\n        color: #666666;\n        line-height: 95px;\n    }\n    a span{\n        display: inline-block\n    }\n    .head_min{\n\n        width: 100%;\n        height: 120px;\n        margin-top: 50px;\n    }\n    .head_min_left{\n        width: 120px;\n        height: 100%;\n        float: left;\n        margin-left: 20%;\n    }\n    .head_min_left img{\n        width: 108px;\n        height: 108px;\n        border-radius: 50%;\n    }\n    .head_min_right{\n        display: inline;\n        float: left;\n        margin-top: 11px;\n        margin-left: 20px;\n        line-height: 40px;\n    }\n    .head_min_right div{\n        font-size: 20px;\n        color: #000000;\n    }\n    .deleteBorder .el-tabs__nav-wrap::after{\n        height: 0 !important;\n    }\n    .tab_text{\n        font-size: 22px !important;\n        width: 60%;\n        height: 50px;\n        margin: 18px auto;\n    }\n    /*.avatar-uploader .el-upload {*/\n    /*    border: 1px dashed #d9d9d9;*/\n    /*    border-radius: 6px;*/\n    /*    cursor: pointer;*/\n    /*    position: relative;*/\n    /*    overflow: hidden;*/\n    /*}*/\n    /*.avatar-uploader .el-upload:hover {*/\n    /*    border-color: #409EFF;*/\n    /*}*/\n\n \n\n</style>"],"mappings":";AAyFA,OAAAA,KAAA;AACA,OAAAC,OAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF,OAAA;IAAAD;EAAA;EACAI,KAAA;IACA;MACAC,iBAAA;MACAC,cAAA;MACAC,aAAA;MACAC,QAAA;MACAC,QAAA;MACAC,UAAA;MACAC,IAAA;QACAC,QAAA;QACAC,SAAA;QACAC,GAAA;QACAC,QAAA;QACAC,KAAA;QACAC,IAAA;QACAC,UAAA;QACAC,GAAA;QACAC,KAAA;QACAC,QAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACAC,aAAAC,IAAA;MACA,KAAAC,KAAA,CAAAC,MAAA,CAAAC,UAAA;IACA;IACAC,aAAA;MACA,KAAAH,KAAA,CAAAC,MAAA,CAAAG,MAAA;MACA,KAAAJ,KAAA,CAAAC,MAAA,CAAAC,UAAA;MACA,KAAAzB,iBAAA;MACA,KAAA4B,OAAA,CAAAC,EAAA;IACA;IAEAC,SAAA;MACA,KAAAF,OAAA,CAAAG,IAAA;IACA;IACAC,SAAA;MACA,KAAAJ,OAAA,CAAAG,IAAA;IACA;IACAZ,QAAA;MACA,KAAAc,MAAA,CAAAC,IAAA;QACAC,KAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC;MACA;QACAC,OAAA;UAAA,sBAAAH,MAAA,CAAAC,KAAA,CAAAC;QAAA;MACA,GAAAE,IAAA,CAAAC,IAAA;QACA,IAAAA,IAAA,CAAAC,MAAA;UACA,KAAApC,IAAA,GAAAmC,IAAA,CAAA1C,IAAA,CAAAA,IAAA;QACA;MACA,GAAA4C,KAAA,CAAAF,IAAA,KACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}